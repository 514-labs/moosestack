# Feature Flags Setup

## Quick Start

1. **Already configured:**
   - ✅ Vercel Toolbar installed
   - ✅ Flags SDK with PostHog adapter
   - ✅ Discovery endpoint at `/.well-known/vercel/flags`

2. **Required environment variables:**
   ```bash
   FLAGS_SECRET=<auto-generated by toolbar>
   POSTHOG_PERSONAL_API_KEY=<from PostHog settings>
   POSTHOG_PROJECT_ID=<from PostHog settings>
   ```

3. **Usage:**
   - Run `pnpm dev`
   - Open Vercel Toolbar → Flags Explorer
   - Toggle flags to test navigation visibility

## Available Flags

- `show-hosting-section` - Controls Hosting tab visibility (default: off)
- `show-guides-section` - Controls Guides tab visibility (default: off)
- `show-ai-section` - Controls AI tab visibility (default: on)
- `show-data-sources-page` - Controls Data sources page visibility in navigation (default: off)

## How It Works

- **Flags SDK** automatically reads `vercel-flag-overrides` cookie
- **Resolution order**: Cookie Override → PostHog → Default
- **Dynamic rendering** everywhere for flag overrides to work
- SEO-friendly: Pages still server-render with full HTML

## Files

- `src/flags.ts` - Flag definitions
- `src/app/.well-known/vercel/flags/route.ts` - Discovery endpoint

