---
title: Moose APIs & Web Apps
description: Expose ingestion and analytics endpoints with native APIs, or bring your own web framework.
order: 0
category: apis
---

import { Callout, LanguageTabs, LanguageTabContent, CTACards, CTACard } from "@/components/mdx";

# Moose APIs & Web Apps

MooseStack lets you expose HTTP endpoints for **ingestion**, **analytics**, and **workflow triggers**.

You can do this in two distinct ways:

- **Native Moose APIs**: define endpoints with Moose primitives (type-safe, OpenAPI-friendly).
- **Web apps inside the Moose Runtime**: run Express/Fastify/Koa/FastAPI (or raw Node) inside MooseStack via `WebApp`.

If you want to **embed Moose as a library inside an existing web app** (no separate Moose Runtime service), follow the “Add to Existing App” guides like [Next.js](/moosestack/getting-started/existing-app/next-js) or [Fastify](/moosestack/getting-started/existing-app/fastify).

## What this is

Moose APIs are **application-facing HTTP interfaces** that sit on top of your Moose modules (OLAP tables, streams, workflows). They’re designed to be composed with the rest of your project, not used in isolation.

## Why it matters

APIs are where external systems interface with your OLAP database. MooseStack gives you a path that is:

- **Type-safe**: validate and convert request inputs.
- **Operationally simple**: one runtime + one deployment when Moose hosts your web app.
- **Composable**: reuse the same `client`/`sql` access patterns across handlers.

## Choose an approach

| You want… | Use… |
| --- | --- |
| Fastest path to ingestion/analytics endpoints | **Native Moose APIs** |
| Custom middleware/routing, but still want Moose to run your web server | **WebApp (inside Moose Runtime)** |
| Typed ClickHouse models + queries in your existing backend runtime | **Embed MooseStack in an existing app** (e.g. [Fastify](/moosestack/getting-started/existing-app/fastify)) |

### 1) Native Moose APIs

Native APIs are best for straightforward endpoints with minimal routing/middleware needs.

- **[Ingest API](/moosestack/apis/ingest-api)**: create POST endpoints that validate payloads and route them into streams/tables.
- **[Analytics API](/moosestack/apis/analytics-api)**: create GET endpoints that run queries (OLAP or custom logic).
- **[Trigger API](/moosestack/apis/trigger-api)**: create POST endpoints that kick off workflows.

### 2) Web apps inside the Moose Runtime (WebApp)

If you want a full-featured web framework, MooseStack can host it via `WebApp` as part of the Moose Runtime.

**Why embed your framework:**

- One deployment pipeline managed by the Moose CLI
- Moose utilities available in every request (`client`, `sql`, `jwt`)
- Moose APIs and your framework routes can live under the same hostname

Supported adapters include: [Express](/moosestack/app-api-frameworks/express), [Fastify](/moosestack/app-api-frameworks/fastify), [Koa](/moosestack/app-api-frameworks/koa), [raw Node.js](/moosestack/app-api-frameworks/raw-nodejs), and [FastAPI](/moosestack/app-api-frameworks/fastapi).

### 3) Use Moose CLI + library in your existing backend

If you already have an app server (like Next.js or Fastify), you can keep it where it is and use Moose as a **CLI tool** (for schema migrations) and **library** (for type-safe ClickHouse queries) **without deploying a separate Moose Runtime web service**.

See: [Next.js](/moosestack/getting-started/existing-app/next-js) or [Fastify](/moosestack/getting-started/existing-app/fastify).

## Next steps

<CTACards>
  <CTACard
    title="Ingest New Data"
    description="Create HTTP POST endpoints for validated ingestion."
    ctaLink="/moosestack/apis/ingest-api"
    ctaLabel="Read the guide →"
    badge={{ variant: "moose", text: "Ingest" }}
  />
  <CTACard
    title="Expose Analytics"
    description="Create HTTP GET endpoints for queryable analytics."
    ctaLink="/moosestack/apis/analytics-api"
    ctaLabel="Read the guide →"
    badge={{ variant: "moose", text: "Analytics" }}
  />
  <CTACard
    title="Trigger Workflows"
    description="Create HTTP endpoints that start workflows and processes."
    ctaLink="/moosestack/apis/trigger-api"
    ctaLabel="Read the guide →"
    badge={{ variant: "moose", text: "Trigger" }}
  />
  <CTACard
    title="Use Your Web Framework"
    description="Run Express/Fastify/Koa/FastAPI (or raw Node) inside MooseStack."
    ctaLink="/moosestack/app-api-frameworks"
    ctaLabel="See patterns & examples →"
    badge={{ variant: "moose", text: "WebApp" }}
  />
  <CTACard
    title="Add Moose to an existing Next.js app"
    description="Embed ClickHouse schema + queries in Next.js (no separate backend service)."
    ctaLink="/moosestack/getting-started/existing-app/next-js"
    ctaLabel="Follow the getting started →"
    badge={{ variant: "moose", text: "Client-only" }}
  />
</CTACards>

<Callout type="info" title="Don’t conflate WebApp with client-only embedding">
  **WebApp** runs your API framework inside the Moose Runtime. **Client-only embedding** keeps your existing app server
  and uses Moose as a library (see [Next.js](/moosestack/getting-started/existing-app/next-js)).
</Callout>

## Related resources

- [Auth](/moosestack/apis/auth)
- [OpenAPI SDK](/moosestack/apis/openapi-sdk)
- [Embed Express/Fastify/Koa/FastAPI with WebApp](/moosestack/app-api-frameworks)
- [Read data from OLAP tables](/moosestack/olap/read-data)
