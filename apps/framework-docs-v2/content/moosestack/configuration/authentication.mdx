---
title: Authentication Configuration
description: Configure JWT and general API authentication
order: 50
---

import { Callout } from "@/components/mdx";

# Authentication Configuration

This reference covers security and authentication settings for your Moose APIs.

<Callout type="warning" title="Secret Management">
Authentication keys and secrets are sensitive. **Do not commit them to your `moose.config.toml`**. Use environment variables or `.env.local` (for development) to manage these values securely.
</Callout>

## JWT Configuration

Configure JSON Web Token (JWT) validation for your ingestion and consumption APIs.

```toml
[jwt]
# Enforce JWT on all consumption APIs (Default: false)
enforce_on_all_consumptions_apis = false
# Enforce JWT on all ingestion APIs (Default: false)
enforce_on_all_ingest_apis = false
# Secret key for JWT signing (Required if jwt section is present)
# secret = "your-jwt-secret"
# JWT issuer (Required if jwt section is present)
# issuer = "your-issuer-name"
# JWT audience (Required if jwt section is present)
# audience = "your-audience-name"
```

| Key | Env Variable | Default | Description |
|:----|:-------------|:--------|:------------|
| `enforce_on_all_consumptions_apis` | `MOOSE_JWT__ENFORCE_ON_ALL_CONSUMPTIONS_APIS` | false | Globally enable JWT for consumption endpoints. |
| `enforce_on_all_ingest_apis` | `MOOSE_JWT__ENFORCE_ON_ALL_INGEST_APIS` | false | Globally enable JWT for ingestion endpoints. |
| `secret` | `MOOSE_JWT__SECRET` | - | **SECRET**. The key used to sign/verify tokens. |
| `issuer` | `MOOSE_JWT__ISSUER` | - | Expected token issuer claim (`iss`). |
| `audience` | `MOOSE_JWT__AUDIENCE` | - | Expected token audience claim (`aud`). |

## General Authentication

Configure global authentication settings like Admin API keys.

```toml
[authentication]
# Optional hashed admin API key for auth (Default: None)
# admin_api_key = "hashed_api_key"
```

| Key | Env Variable | Default | Description |
|:----|:-------------|:--------|:------------|
| `admin_api_key` | `MOOSE_AUTHENTICATION__ADMIN_API_KEY` | - | **SECRET**. Hash of the admin API key. |
