---
title: Bring Your Own API Framework
description: Use Express, Koa, Fastify, FastAPI (or raw Node.js) with MooseStack
order: 0
category: integration
---

import { Callout, LanguageTabs, LanguageTabContent } from "@/components/mdx";


# Build HTTP APIs with your framework of choice

MooseStack allows you to embed a supported framework inside your MooseStack application. This is useful when you need full framework routing/middleware but still want MooseStack to run and deploy everything together.

## Supported frameworks:
MooseStack provides adapters for the following frameworks:

<LanguageTabs>
  <LanguageTabContent value="typescript">
    <ul>
      <li>
        <a href="/moosestack/app-api-frameworks/express">Express</a>
      </li>
      <li>
        <a href="/moosestack/app-api-frameworks/fastify">Fastify</a>
      </li>
      <li>
        <a href="/moosestack/app-api-frameworks/koa">Koa</a>
      </li>
      <li>
        <a href="/moosestack/app-api-frameworks/raw-nodejs">Raw Node.js</a>
      </li>
    </ul>
  </LanguageTabContent>
  <LanguageTabContent value="python">
    <ul>
      <li>
        <a href="/moosestack/app-api-frameworks/fastapi">FastAPI</a>
      </li>
    </ul>
  </LanguageTabContent>
</LanguageTabs>

<Callout type="info" title="Want to discuss other integrations?" href="https://join.slack.com/t/moose-community/shared_invite/zt-2fjh5n3wz-cnOmM9Xe9DYAgQrNu8xKxg" ctaLabel="Join Slack">
Join our Slack community to chat about other framework integrations you'd like to see or share your own implementation.
</Callout>

## Client-only embedding (existing apps)

Optionally, if you already have a running app server, you can keep it where it is and use MooseStack as a library for ClickHouse modeling + type-safe queries (no separate Moose Runtime web service).

- [Embed ClickHouse analytics in Next.js](/moosestack/getting-started/existing-app/next-js)
- [Embed ClickHouse analytics in Fastify](/moosestack/getting-started/existing-app/fastify)
- For query patterns, see [Reading Data](/moosestack/olap/read-data).

## The WebApp Class

The `WebApp` class is the bridge between your web framework and MooseStack. It handles:

- [Mounting your framework at a custom URL path](#mount-paths)
- [Injecting MooseStack utilities (database clients, SQL helpers, JWT)](#webapp-utilities)
- Validating JWT tokens when authentication is configured
- Managing the request/response lifecycle

See [framework templates](/templates) for complete working examples with Express, Fastify, Koa, FastAPI, and more.

<LanguageTabs>
  <LanguageTabContent value="typescript">
```ts copy
import { WebApp } from "@514labs/moose-lib";
const webApp = new WebApp("webapp", your_framework_app, {
  mountPath: "/webapp",
  metadata: {
    description: "Your framework application",
  },
});
```
  </LanguageTabContent>
  <LanguageTabContent value="python">
```python copy
from moose_lib import WebApp, WebAppConfig, WebAppMetadata
# Register as WebApp
web_app = WebApp(
    "webapp",
    your_framework_app,
    WebAppConfig(
        mount_path="/webapp",
        metadata=WebAppMetadata(description="Your framework application")
    )
)
```
  </LanguageTabContent>
</LanguageTabs>

### Mount paths

Each `WebApp` mounts your framework under a unique path.
  <LanguageTabs>
    <LanguageTabContent value="typescript">
```ts copy
const webApp = new WebApp("webapp", your_framework_app, {
  mountPath: "/webapp",
  /// ... other config ...
});
```
    </LanguageTabContent>
    <LanguageTabContent value="python">
```python copy
web_app = WebApp(
    "webapp",
    your_framework_app,
    WebAppConfig(
        mount_path="/webapp",
        ## ... other config ...
    )
)
```
    </LanguageTabContent>
  </LanguageTabs>

- **Cannot** be `/`
- **Cannot** end with a trailing slash
- **Cannot** start with reserved prefixes: `/admin`, `/api`, `/consumption`, `/health`, `/ingest`, `/mcp`, `/moose`, `/ready`, `/workflows`

### WebApp utilities

Your frameworks can now access your OLAP database through MooseStack's injected utilities. This includes the Moose ClickHouse client, SQL helpers, and JWT utilities.

<LanguageTabs>
  <LanguageTabContent value="typescript">
```ts copy
import { getMooseUtils } from "@514labs/moose-lib";

const { client, sql, jwt } = getMooseUtils(req);
```
  </LanguageTabContent>
  <LanguageTabContent value="python">
```py copy
from moose_lib.dmv2.web_app_helpers import get_moose_utils

moose = get_moose_utils(request)
client = moose.client
jwt = moose.jwt
```
  </LanguageTabContent>
</LanguageTabs>
