---
title: moose migrate
description: Apply a reviewed migration plan from the CLI
order: 7
category: olap
---

# moose migrate

Use `moose migrate` to apply the plan in `migrations/plan.yaml`.

## Command

```bash
moose migrate --olap-engine <clickhouse|duckdb|snowflake> --olap-url <CONNECTION>
```

## Options

| Option          | Required | Description                                       |
| --------------- | -------- | ------------------------------------------------- |
| `--olap-engine` | Yes      | Target engine for migration execution             |
| `--olap-url`    | Yes      | Connection string for the target OLAP environment |

## CI example

```yaml
- name: Apply Migrations
  run: moose migrate --olap-engine "$OLAP_ENGINE" --olap-url "$OLAP_URL"
  env:
    OLAP_ENGINE: clickhouse
    OLAP_URL: ${{ secrets.OLAP_URL }}
```

## Failure modes

- `connection_error`: bad credentials or network.
- `migration_contract_error`: drift or unsafe operation.
- `capability_mismatch`: plan operation not supported on selected engine.
