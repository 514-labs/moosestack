---
title: Troubleshooting
description: Fix common MooseStack setup, connection, and migration issues
order: 2
category: help
---

# Troubleshooting

Use this page when setup, migrations, or runtime checks fail.

## CLI does not run

1. Run `moose --version`.
2. If command is missing, reload your shell.
3. Re-run the install script.

```bash
bash -i <(curl -fsSL https://fiveonefour.com/install.sh) moose
```

## `connection_error`

Common causes:

- Wrong URL format in `MOOSE_OLAP__CONNECTION`
- Invalid credentials
- DNS, TLS, or firewall issues

Check:

```bash
echo "$MOOSE_OLAP__ENGINE"
echo "$MOOSE_OLAP__CONNECTION"
```

## `profile_misconfiguration`

Common causes:

- `moose dev --infra-profile ...` does not match config intent
- Local profile used with remote-only dependencies

Check `moose.config.toml`:

```toml
[olap]
engine = "clickhouse"
profile = "remote"
connection = "https://user:password@host:8443/db"

[dev_infra]
profile = "remote_hybrid"
```

## `migration_contract_error`

Common causes:

- Remote schema changed after plan generation
- Local code changed after plan generation

Fix:

```bash
moose generate migration --olap-engine "$MOOSE_OLAP__ENGINE" --olap-url "$MOOSE_OLAP__CONNECTION" --save
moose migrate --olap-engine "$MOOSE_OLAP__ENGINE" --olap-url "$MOOSE_OLAP__CONNECTION"
```

## `capability_mismatch`

This means a feature is not supported for the selected engine.

Next step:

- Check [Engine Capability Matrix](/moosestack/reference/engine-capability-matrix)
- Move the model to common-core features or choose a different engine
