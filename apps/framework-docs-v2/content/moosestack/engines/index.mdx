---
title: Table Engines
description: Reference for ClickHouse table engines supported in Moose
order: 1
category: reference
---

import { Callout, LanguageTabs, LanguageTabContent } from "@/components/mdx";

# Table Engines

ClickHouse table engines determine how data is stored, indexed, queried, and replicated. Moose supports the MergeTree family of engines, which are optimized for high-volume analytical workloads.



## Engine Overview

| Engine | Use Case | Key Feature |
|--------|----------|-------------|
| [**MergeTree**](/moosestack/engines/merge-tree) | General analytics | Default, fast inserts and queries |
| [**ReplacingMergeTree**](/moosestack/engines/replacing-merge-tree) | Mutable data | Deduplication by primary key |
| [**AggregatingMergeTree**](/moosestack/engines/aggregating-merge-tree) | Pre-aggregation | Real-time rollups with `SimpleAggregateFunction` |
| [**SummingMergeTree**](/moosestack/engines/summing-merge-tree) | Counters/metrics | Auto-sums numeric columns |
| [**Replicated Engines**](/moosestack/engines/replicated) | High availability | Multi-node replication |

## Choosing an Engine

| If you need… | Choose… |
|---|---|
| Sane defaults for simple append-only analytics | [`MergeTree`](/moosestack/engines/merge-tree) |
| Deduplication / upserts by key | [`ReplacingMergeTree`](/moosestack/engines/replacing-merge-tree) |
| Sum-only counters (e.g., views, clicks) | [`SummingMergeTree`](/moosestack/engines/summing-merge-tree) |
| Pre-aggregated rollups / aggregate-state tables | [`AggregatingMergeTree`](/moosestack/engines/aggregating-merge-tree) |
| High availability via replication | Use a replicated variant (see [`Replicated Engines`](/moosestack/engines/replicated)) |

## Example

<LanguageTabs>
  <LanguageTabContent value="typescript" label="TypeScript">
```ts
import { OlapTable, ClickHouseEngines } from "@514labs/moose-lib";

const users = new OlapTable<User>("users", {
  engine: ClickHouseEngines.ReplacingMergeTree,
  orderByFields: ["id"],
});
```
  </LanguageTabContent>
  <LanguageTabContent value="python" label="Python">
```py
from moose_lib import OlapTable, OlapConfig
from moose_lib.blocks import ReplacingMergeTreeEngine

users = OlapTable[User]("users", OlapConfig(
    engine=ReplacingMergeTreeEngine(),
    order_by_fields=["id"],
))
```
  </LanguageTabContent>
</LanguageTabs>

## Available Engines

### Standard Engines
- `MergeTree` — Default, optimized for fast inserts and analytical queries
- `ReplacingMergeTree` — Deduplicates rows by ORDER BY key during background merges
- `AggregatingMergeTree` — Stores pre-aggregated states for real-time rollups
- `SummingMergeTree` — Automatically sums numeric columns during merges

### Replicated Engines
- `ReplicatedMergeTree` — MergeTree with multi-node replication
- `ReplicatedReplacingMergeTree` — ReplacingMergeTree with replication
- `ReplicatedAggregatingMergeTree` — AggregatingMergeTree with replication
- `ReplicatedSummingMergeTree` — SummingMergeTree with replication

### Special Engines
- `S3Queue` — Stream data from S3 buckets

## See Also

- [Tables](/moosestack/olap/model-table) — Full table configuration reference
- [Aggregate Types](/moosestack/data-types/aggregates) — Using `SimpleAggregateFunction` with AggregatingMergeTree

