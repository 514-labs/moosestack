---
title: Deploying on Kubernetes
description: Run MooseStack on Kubernetes with engine-neutral OLAP settings
order: 5
category: deploying
---

# Deploying on Kubernetes

Use Kubernetes secrets and config maps with the canonical contract.

## Deployment environment example

```yaml
env:
  - name: MOOSE_OLAP__ENGINE
    value: "clickhouse"
  - name: MOOSE_OLAP__PROFILE
    value: "remote"
  - name: MOOSE_OLAP__CONNECTION
    valueFrom:
      secretKeyRef:
        name: moose-secrets
        key: olap_connection
  - name: MOOSE_DEV_INFRA__PROFILE
    value: "remote_full"
```

## Migration job example

```bash
moose generate migration --olap-engine "$MOOSE_OLAP__ENGINE" --olap-url "$MOOSE_OLAP__CONNECTION" --save
moose migrate --olap-engine "$MOOSE_OLAP__ENGINE" --olap-url "$MOOSE_OLAP__CONNECTION"
```

## Operational checks

- Confirm DNS and TLS path to OLAP endpoint.
- Confirm role permissions for migration DDL.
- Confirm Redis and Redpanda connectivity if enabled.
