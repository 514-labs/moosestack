---
title: Deploying with Docker Compose
description: Deploy MooseStack with Docker Compose using the engine-neutral contract
order: 6
category: deploying
---

# Deploying with Docker Compose

Use this setup for small deployments and integration environments.

## docker-compose.yml example

```yaml
services:
  moose:
    image: ghcr.io/514-labs/moose:latest
    environment:
      MOOSE_LOGGER__LEVEL: "Info"
      MOOSE_OLAP__ENGINE: "clickhouse"
      MOOSE_OLAP__PROFILE: "remote"
      MOOSE_OLAP__CONNECTION: "https://user:password@clickhouse.example.com:8443/db"
      MOOSE_DEV_INFRA__PROFILE: "remote_full"
      MOOSE_REDIS_CONFIG__URL: "redis://redis:6379"
      MOOSE_REDPANDA_CONFIG__BROKER: "redpanda:9092"
    ports:
      - "4000:4000"
```

## Migration workflow

```bash
moose generate migration --olap-engine clickhouse --olap-url "$MOOSE_OLAP__CONNECTION" --save
moose migrate --olap-engine clickhouse --olap-url "$MOOSE_OLAP__CONNECTION"
```

## Notes

- Keep credentials in `.env` or Docker secrets.
- Use `remote_hybrid` when local containers and remote OLAP are mixed.
