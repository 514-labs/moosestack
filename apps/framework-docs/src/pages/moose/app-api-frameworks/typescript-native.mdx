---
title: Native TypeScript APIs
description: Use Moose's built-in Api class for TypeScript
---

import { Callout } from "@/components";

# Native TypeScript APIs

The `Api` class provides simple, type-safe GET endpoints for querying your OLAP database. For full details, see the [Analytics API documentation](/moose/apis/analytics-api).

## Quick Example

```ts filename="app/apis/ExampleApi.ts" copy
import { Api } from "@514labs/moose-lib";
import { SourcePipeline } from "../datamodels/SourcePipeline";

// Define query parameters
interface QueryParams {
  filterField: string;
  maxResults: number;
}

// Define response type
interface ResultItem {
  id: number;
  name: string;
  value: number;
}

const SourceTable = SourcePipeline.table!;
const cols = SourceTable.columns;

// Create the API
export const exampleApi = new Api<QueryParams, ResultItem[]>("example_endpoint",
  async ({ filterField, maxResults }: QueryParams, { client, sql }) => {
    const query = sql`
      SELECT
        ${cols.id},
        ${cols.name},
        ${cols.value}
      FROM ${SourceTable}
      WHERE category = ${filterField}
      LIMIT ${maxResults}`;

    const resultSet = await client.query.execute<ResultItem>(query);
    return await resultSet.json();
  }
);
```

<Callout type="info" title="Complete Api documentation">
  This page keeps things lightweight. For full coverage of validation, OpenAPI, and advanced patterns, see the [Analytics API documentation](/moose/apis/analytics-api) for TypeScript.
</Callout>
