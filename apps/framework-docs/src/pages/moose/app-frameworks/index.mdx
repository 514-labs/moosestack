---
title: Bring Your Own API Framework
description: Use Express, Koa, Fastify, or FastAPI with MooseStack
---

import { Callout } from "@/components";
import Link from "next/link";

# Bring Your Own API Framework

MooseStack provides flexible approaches for building HTTP APIs to expose your data. You can use Moose's built-in `Api` class for simple GET endpoints, or bring popular web frameworks like Express, Koa, Fastify, or FastAPI for advanced features and custom middleware.

## Overview

### Native APIs

Moose's built-in `Api` class provides simple GET endpoints with automatic type validation and OpenAPI documentation. This is ideal for straightforward data queries without complex routing or middleware requirements.

**Use Native `Api` class when you need:**
- Simple GET endpoints with query parameters
- Automatic type validation and conversion
- Automatic OpenAPI documentation generation
- Minimal setup and boilerplate

### Custom Frameworks

Bring your own web framework to leverage advanced HTTP features, custom middleware, and framework-specific ecosystems. MooseStack's `WebApp` class lets you mount any compatible framework at a custom path within your Moose project.

**Use Custom Frameworks when you need:**
- Custom middleware (authentication, logging, rate limiting)
- Framework-specific features and plugins
- Advanced HTTP features (WebSockets, file uploads, Server-Sent Events)
- Complex routing patterns (route groups, dynamic routes)
- Integration with existing framework-based applications

## Supported Frameworks

### TypeScript

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
  <Link href="/moose/app-frameworks/typescript-native" className="rounded-xl border bg-card text-card-foreground shadow p-6 hover:bg-muted transition">
    <div className="font-semibold">Native (Api Class)</div>
    <div className="text-sm text-gray-600 dark:text-gray-400">
      Moose's built-in approach for simple GET endpoints
    </div>
  </Link>

  <Link href="/moose/app-frameworks/typescript-express" className="rounded-xl border bg-card text-card-foreground shadow p-6 hover:bg-muted transition">
    <div className="font-semibold">Express</div>
    <div className="text-sm text-gray-600 dark:text-gray-400">
      Most popular Node.js web framework
    </div>
  </Link>

  <Link href="/moose/app-frameworks/typescript-fastify" className="rounded-xl border bg-card text-card-foreground shadow p-6 hover:bg-muted transition">
    <div className="font-semibold">Fastify</div>
    <div className="text-sm text-gray-600 dark:text-gray-400">
      Fast and low overhead web framework
    </div>
  </Link>

  <Link href="/moose/app-frameworks/typescript-koa" className="rounded-xl border bg-card text-card-foreground shadow p-6 hover:bg-muted transition">
    <div className="font-semibold">Koa</div>
    <div className="text-sm text-gray-600 dark:text-gray-400">
      Expressive middleware framework by Express team
    </div>
  </Link>

  <Link href="/moose/app-frameworks/typescript-raw-nodejs" className="rounded-xl border bg-card text-card-foreground shadow p-6 hover:bg-muted transition">
    <div className="font-semibold">Raw Node.js</div>
    <div className="text-sm text-gray-600 dark:text-gray-400">
      Use raw HTTP handlers without any framework
    </div>
  </Link>
</div>

### Python

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
  <Link href="/moose/app-frameworks/python-native" className="rounded-xl border bg-card text-card-foreground shadow p-6 hover:bg-muted transition">
    <div className="font-semibold">Native (Api Class)</div>
    <div className="text-sm text-gray-600 dark:text-gray-400">
      Moose's built-in approach for simple GET endpoints
    </div>
  </Link>

  <Link href="/moose/app-frameworks/python-fastapi" className="rounded-xl border bg-card text-card-foreground shadow p-6 hover:bg-muted transition">
    <div className="font-semibold">FastAPI</div>
    <div className="text-sm text-gray-600 dark:text-gray-400">
      Modern, fast Python web framework
    </div>
  </Link>
</div>

## Key Concepts

### WebApp Class

The `WebApp` class is the bridge between your web framework and MooseStack. It handles:

- Mounting your framework at a custom URL path
- Injecting MooseStack utilities (database clients, SQL helpers, JWT)
- Validating JWT tokens when authentication is configured
- Managing the request/response lifecycle

### Accessing Data

All frameworks can access your OLAP database through MooseStack's injected utilities:

**TypeScript:**
```ts
import { getMooseUtils } from "@514labs/moose-lib";

const moose = getMooseUtils(req);
const { client, sql, jwt } = moose;
```

**Python:**
```python
from moose_lib.dmv2.web_app_helpers import get_moose_utils

moose = get_moose_utils(request)
client = moose.client
jwt = moose.jwt
```

### Mount Paths

Each WebApp must specify a unique mount path where it will be accessible. Mount paths have specific rules:

- Cannot be `/` (root path)
- Cannot end with a trailing slash
- Cannot start with reserved paths: `/admin`, `/api`, `/consumption`, `/health`, `/ingest`, `/moose`, `/ready`, `/workflows`

**Valid:** `/myapi`, `/v1/analytics`, `/custom/endpoint`

**Invalid:** `/`, `/myapi/`, `/api/myendpoint`

## Next Steps

- [Authentication](/moose/apis/auth) - Secure your APIs with JWT
- [Analytics APIs](/moose/apis/analytics-api) - Deep dive into the native `Api` class
- [Configuration](/moose/configuration) - Configure infrastructure and services
