---
title: Native Python APIs
description: Use Moose's built-in Api class for Python
---

import { Callout } from "@/components";

# Native Python APIs

The `Api` class provides simple, type-safe GET endpoints for querying your OLAP database. For full details, see the [Analytics API documentation](/moose/apis/analytics-api).

## Quick Example

```python filename="app/apis/example_api.py" copy
from moose_lib import Api, MooseClient
from pydantic import BaseModel
from app.datamodels.source_pipeline import SourcePipeline

# Define query parameters
class QueryParams(BaseModel):
    filter_field: str
    max_results: int

# Define response type
class ResultItem(BaseModel):
    id: int
    name: str
    value: float

SourceTable = SourcePipeline.get_table()

# Define query function
def run(client: MooseClient, params: QueryParams) -> list[ResultItem]:
    query = """
    SELECT
      id,
      name,
      value
    FROM {table}
    WHERE category = {category}
    LIMIT {limit}
    """

    return client.query.execute(query, {
        "table": SourceTable,
        "category": params.filter_field,
        "limit": params.max_results
    })

# Create the API
example_api = Api[QueryParams, list[ResultItem]](
    name="example_endpoint",
    query_function=run
)
```

<Callout type="info" title="Complete Api documentation">
  This page only shows a quick-start snippet. For full coverage of validation, OpenAPI, and advanced patterns, see the [Analytics API documentation](/moose/apis/analytics-api) for Python.
</Callout>
