{"version":3,"file":"goodreads_books.js","sourceRoot":"","sources":["../../app/datamodels/goodreads_books.ts"],"names":[],"mappings":";;;;;;AAAA,gDAAuC;AACvC,gDAA0E;AAgB1E,0CAA0C;AAC7B,QAAA,sBAAsB,GAAG,IAAI,0BAAc,CAAsB,iBAAiB,EAAE;IAC7F,KAAK,EAAE;QACH,aAAa,EAAE,CAAC,QAAQ,CAAC;QACzB,WAAW,EAAE,IAAI;KACpB;IACD,MAAM,EAAE;QACJ,WAAW,EAAE,CAAC;QACd,eAAe,EAAE,KAAK,EAAE,WAAW;KACtC;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,2BAAe,CAAC,UAAU,EAAE,sBAAsB;KAC7D;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAEK,IAAI,CAAC,KAAK,CAAC,09CAA09C,CAAQ,CAAC,CAAC","sourcesContent":["import ____moose____typia from \"typia\";\nimport { IngestPipeline, Key, IngestionFormat } from \"@514labs/moose-lib\";\n// Define the schema for Goodreads books\nexport interface GoodreadsBookSchema {\n    bookID: Key<string>;\n    title: string;\n    authors: string;\n    average_rating: number;\n    isbn: string;\n    isbn13: string;\n    language_code: string;\n    num_pages: number;\n    ratings_count: number;\n    text_reviews_count: number;\n    publication_date: string;\n    publisher: string;\n}\n// Create the pipeline for Goodreads books\nexport const GoodreadsBooksPipeline = new IngestPipeline<GoodreadsBookSchema>(\"goodreads_books\", {\n    table: {\n        orderByFields: [\"bookID\"],\n        deduplicate: true,\n    },\n    stream: {\n        parallelism: 4,\n        retentionPeriod: 86400, // 24 hours\n    },\n    ingest: {\n        format: IngestionFormat.JSON_ARRAY, // For batch ingestion\n    },\n}, ____moose____typia.json.schemas<[\n    GoodreadsBookSchema\n]>(), JSON.parse(\"[{\\\"name\\\":\\\"bookID\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":true,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null},{\\\"name\\\":\\\"title\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null},{\\\"name\\\":\\\"authors\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null},{\\\"name\\\":\\\"average_rating\\\",\\\"data_type\\\":\\\"Float\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null},{\\\"name\\\":\\\"isbn\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null},{\\\"name\\\":\\\"isbn13\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null},{\\\"name\\\":\\\"language_code\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null},{\\\"name\\\":\\\"num_pages\\\",\\\"data_type\\\":\\\"Float\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null},{\\\"name\\\":\\\"ratings_count\\\",\\\"data_type\\\":\\\"Float\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null},{\\\"name\\\":\\\"text_reviews_count\\\",\\\"data_type\\\":\\\"Float\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null},{\\\"name\\\":\\\"publication_date\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null},{\\\"name\\\":\\\"publisher\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null}]\") as any);\n"]}